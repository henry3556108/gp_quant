{
  "config": {
    "tickers": [
      "ABX.TO",
      "BBD-B.TO",
      "RY.TO",
      "TRP.TO"
    ],
    "train_data_start": "1995-01-03",
    "train_backtest_start": "1997-06-25",
    "train_backtest_end": "1999-06-25",
    "test_data_start": "1997-06-25",
    "test_backtest_start": "1999-06-26",
    "test_backtest_end": "2001-06-26",
    "initial_capital": 100000.0,
    "population_size": 5000,
    "generations": 50,
    "crossover_prob": 0.8,
    "mutation_prob": 0.2,
    "tournament_size": 3,
    "fitness_metric": "sharpe_ratio",
    "risk_free_rate": 0.0,
    "early_stopping_enabled": true,
    "early_stopping_patience": 5,
    "early_stopping_min_delta": 0.001,
    "niching_enabled": true,
    "niching_n_clusters": 3,
    "niching_cross_ratio": 0.8,
    "niching_update_frequency": 1,
    "niching_algorithm": "kmeans",
    "output_dir": "portfolio_experiment_results",
    "experiment_name": "portfolio_exp_sharpe_20251017_122243"
  },
  "evolution_log": [
    {
      "generation": 1,
      "min_fitness": -1.9173014455232873,
      "avg_fitness": 0.09023396716419248,
      "max_fitness": 1.6160230122860204,
      "std_fitness": 0.18977581449509834,
      "eval_time": 152.156989,
      "timestamp": "2025-10-17T12:25:15.896035",
      "niching_selection": {
        "cross_niche_pairs": 2000,
        "within_niche_pairs": 500,
        "cross_niche_ratio": 0.8
      }
    },
    {
      "generation": 2,
      "min_fitness": -1.1790591740407408,
      "avg_fitness": 0.15549330636086103,
      "max_fitness": 1.6160230122860204,
      "std_fitness": 0.1797743004410994,
      "eval_time": 130.463795,
      "timestamp": "2025-10-17T12:28:24.575617",
      "niching_selection": {
        "cross_niche_pairs": 2000,
        "within_niche_pairs": 500,
        "cross_niche_ratio": 0.8
      }
    },
    {
      "generation": 3,
      "min_fitness": -1.7151757976559099,
      "avg_fitness": 0.18230738594223223,
      "max_fitness": 1.6160230122860204,
      "std_fitness": 0.19805897383309043,
      "eval_time": 126.757183,
      "timestamp": "2025-10-17T12:31:22.753538",
      "niching_selection": {
        "cross_niche_pairs": 2000,
        "within_niche_pairs": 500,
        "cross_niche_ratio": 0.8
      }
    },
    {
      "generation": 4,
      "min_fitness": -1.3391801481346732,
      "avg_fitness": 0.21074838096112644,
      "max_fitness": 1.6160230122860204,
      "std_fitness": 0.23161969514925698,
      "eval_time": 132.143302,
      "timestamp": "2025-10-17T12:34:31.705146",
      "niching_selection": {
        "cross_niche_pairs": 2000,
        "within_niche_pairs": 500,
        "cross_niche_ratio": 0.8
      }
    },
    {
      "generation": 5,
      "min_fitness": -1.3110449458405269,
      "avg_fitness": 0.2381857039334571,
      "max_fitness": 1.6160230122860204,
      "std_fitness": 0.2631215211716961,
      "eval_time": 131.756176,
      "timestamp": "2025-10-17T12:37:48.599113",
      "niching_selection": {
        "cross_niche_pairs": 2000,
        "within_niche_pairs": 500,
        "cross_niche_ratio": 0.8
      }
    },
    {
      "generation": 6,
      "min_fitness": -1.361740137409066,
      "avg_fitness": 0.2674583713806929,
      "max_fitness": 1.6160230122860204,
      "std_fitness": 0.29509698413695656,
      "eval_time": 127.586294,
      "timestamp": "2025-10-17T12:40:56.066997",
      "early_stopped": true,
      "early_stop_reason": "No improvement for 5 generations"
    }
  ],
  "total_time": 1092.720554,
  "actual_generations": 6,
  "final_statistics": {
    "best_fitness": 1.6160230122860204,
    "best_pnl": 161602.30122860204
  },
  "early_stopping": {
    "enabled": true,
    "triggered": true,
    "status": {
      "counter": 5,
      "best_fitness": 1.6160230122860204,
      "should_stop": true,
      "generation": 6,
      "patience": 5,
      "min_delta": 0.001,
      "mode": "max"
    }
  },
  "niching": {
    "enabled": true,
    "n_clusters": 3,
    "cross_ratio": 0.8,
    "update_frequency": 1,
    "algorithm": "kmeans",
    "log": [
      {
        "generation": 1,
        "avg_similarity": 0.3502752843902113,
        "diversity_score": 0.6497247156097887,
        "silhouette_score": 0.10164945825934725,
        "niche_sizes": {
          "0": 3123,
          "1": 1456,
          "2": 421
        },
        "computation_time": 55.557595
      },
      {
        "generation": 2,
        "avg_similarity": 0.402489261153819,
        "diversity_score": 0.597510738846181,
        "silhouette_score": 0.2910033754588543,
        "niche_sizes": {
          "0": 1350,
          "1": 1359,
          "2": 2291
        },
        "computation_time": 49.351033
      },
      {
        "generation": 3,
        "avg_similarity": 0.3903588692659166,
        "diversity_score": 0.6096411307340834,
        "silhouette_score": 0.29281422777288985,
        "niche_sizes": {
          "0": 1280,
          "1": 2349,
          "2": 1371
        },
        "computation_time": 54.684662
      },
      {
        "generation": 4,
        "avg_similarity": 0.3928178730839965,
        "diversity_score": 0.6071821269160035,
        "silhouette_score": 0.3128697077014408,
        "niche_sizes": {
          "0": 1320,
          "1": 2283,
          "2": 1397
        },
        "computation_time": 61.804607
      },
      {
        "generation": 5,
        "avg_similarity": 0.38776962492065514,
        "diversity_score": 0.6122303750793449,
        "silhouette_score": 0.3169831806350295,
        "niche_sizes": {
          "0": 1324,
          "1": 2298,
          "2": 1378
        },
        "computation_time": 57.459634
      }
    ]
  }
}